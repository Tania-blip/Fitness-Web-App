@page "/"
@page "/login"
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Identity
@using Netrom.Components.Models

<Div class="login-page">
    <Div class="background-blur"></Div> <!-- Container nou pentru fundalul cu blur -->
    <Div class="login-container" Margin="Margin.IsAuto.OnX" Width="Width.Is50"> <!-- Container pentru formular -->
        <Heading Size="HeadingSize.Is2" Margin="Margin.Is3.FromBottom" TextAlignment="TextAlignment.Center">
            Sign in to your account
        </Heading>
        <EditForm Model="@loginDto" Class="login-form">
            <Card Shadow="Shadow.Default">
                <CardBody>
                    <Form>
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <InputText id="email" @bind-Value="loginDto.email" class="form-control"/>
                            <ValidationMessage For="@(() => loginDto.email)"/>
                        </div>
                        <div class="form-group">
                            <label for="code">Code:</label>
                            <InputText id="code" @bind-Value="loginDto.code" class="form-control"/>
                            <ValidationMessage For="@(() => loginDto.code)"/>
                        </div>
                        @if (!string.IsNullOrEmpty(ErrorMessage))
                        {
                        <p class="error-message">@ErrorMessage</p>
                        }
                        <Button Color="Color.Dark" Clicked="SignIn" Block>
                            Sign in
                        </Button>
                    </Form>
                </CardBody>
            </Card>
        </EditForm>
    </Div>
</Div>

<style>
    .login-page {
        position: relative;
        height: 100vh; /* Full viewport height */
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .background-blur {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("loginImage.jpg");
        background-size: cover;
        background-position: center;
        filter: blur(8px);
        /*z-index: -1; !* Ensure the background stays behind *!*/
    }

    .login-container {
        position: relative;
        z-index: 1; /* Ensures the login container is above the blurred background */
        width: 100%;
        max-width: 400px;
        background-color: rgba(255, 255, 255, 0.95); /* Semi-transparent background for the form */
        padding: 20px;
        border-radius: 8px;
        /*box-shadow: 0 4px 6px rgba(0,0,0,0.1);*/
    }

    .form-group {
        margin-bottom: 15px;
    }

    .form-control {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        display: block;
    }

    .button {
        background-color: #007bff;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        width: 100%;
        font-size: 16px;
    }

    .button:hover {
        background-color: #0056b3;
    }

    .card {
        box-shadow: 0 2px 4px rgba(0,0,0,.2);
        border-radius: 8px;
        overflow: hidden;
    }

    .card-body {
        padding: 20px;
        background-color: #f8f9fa;
    }

    .heading {
        text-align: center;
        margin-bottom: 30px;
    }
</style>
